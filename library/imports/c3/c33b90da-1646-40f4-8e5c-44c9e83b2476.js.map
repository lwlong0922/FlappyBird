{"version":3,"sources":["assets\\Script\\Game\\Game.js"],"names":["ScriptBase","require","Manager","cc","Class","Component","properties","onLoad","director","getCollisionManager","enabled","_registerManager","getInstance","onInitManager","start","onLateInitManager","update","dt","onUpdateManager","lateUpdate","onLateUpdateManager","gameOver","GameOverUI","find","console","log","active","score","getMgr","getChildByName","getComponent","Label","string","toFixed","clear","reStart","loadScene","children","node","value","comJs","addMgr","name"],"mappings":";;;;;;;;;;;;AAAA,IAAIA,UAAU,GAAGC,OAAO,CAAC,YAAD,CAAxB;;AACA,IAAIC,OAAO,GAAGD,OAAO,CAAC,SAAD,CAArB;;AACAE,EAAE,CAACC,KAAH,CAAS;AACL,aAASD,EAAE,CAACE,SADP;AAGLC,EAAAA,UAAU,EAAE,EAHP;AAOL;AAEAC,EAAAA,MATK,oBASI;AACL;AACA;AACA;AACA;AACAJ,IAAAA,EAAE,CAACK,QAAH,CAAYC,mBAAZ,GAAkCC,OAAlC,GAA4C,IAA5C;;AACA,SAAKC,gBAAL;;AACAT,IAAAA,OAAO,CAACU,WAAR,GAAsBC,aAAtB;AACH,GAjBI;AAmBLC,EAAAA,KAnBK,mBAmBG;AACJZ,IAAAA,OAAO,CAACU,WAAR,GAAsBG,iBAAtB;AACH,GArBI;AAuBLC,EAAAA,MAvBK,kBAuBEC,EAvBF,EAuBM;AACPf,IAAAA,OAAO,CAACU,WAAR,GAAsBM,eAAtB,CAAsCD,EAAtC;AACH,GAzBI;AA2BLE,EAAAA,UA3BK,sBA2BMF,EA3BN,EA2BU;AACXf,IAAAA,OAAO,CAACU,WAAR,GAAsBQ,mBAAtB,CAA0CH,EAA1C;AACH,GA7BI;AA+BLI,EAAAA,QA/BK,sBA+BM;AACP,QAAIC,UAAU,GAAGnB,EAAE,CAACoB,IAAH,CAAQ,wBAAR,CAAjB;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYH,UAAZ;AACAA,IAAAA,UAAU,CAACI,MAAX,GAAoB,IAApB;AAEA,QAAIC,KAAK,GAAGzB,OAAO,CAACU,WAAR,GAAsBgB,MAAtB,CAA6B,QAA7B,EAAuCD,KAAnD;AACAL,IAAAA,UAAU,CAACO,cAAX,CAA0B,QAA1B,EAAoCC,YAApC,CAAiD3B,EAAE,CAAC4B,KAApD,EAA2DC,MAA3D,GAAoEL,KAAK,CAACM,OAAN,CAAc,CAAd,CAApE;AACAX,IAAAA,UAAU,CAACO,cAAX,CAA0B,WAA1B,EAAuCC,YAAvC,CAAoD3B,EAAE,CAAC4B,KAAvD,EAA8DC,MAA9D,GAAuEL,KAAK,CAACM,OAAN,CAAc,CAAd,CAAvE;AACAX,IAAAA,UAAU,CAACO,cAAX,CAA0B,QAA1B,EAAoCH,MAApC,GAA6C,IAA7C;AACAJ,IAAAA,UAAU,CAACO,cAAX,CAA0B,WAA1B,EAAuCH,MAAvC,GAAgD,IAAhD;;AACA,QAAIC,KAAK,GAAG,GAAZ,EAAiB;AACbL,MAAAA,UAAU,CAACO,cAAX,CAA0B,QAA1B,EAAoCH,MAApC,GAA6C,IAA7C;AACH,KAFD,MAEO;AACHJ,MAAAA,UAAU,CAACO,cAAX,CAA0B,MAA1B,EAAkCH,MAAlC,GAA2C,IAA3C;AACH;;AAEDxB,IAAAA,OAAO,CAACU,WAAR,GAAsBS,QAAtB;AACAnB,IAAAA,OAAO,CAACU,WAAR,GAAsBsB,KAAtB;AACH,GAjDI;AAmDLC,EAAAA,OAnDK,qBAmDK;AACNhC,IAAAA,EAAE,CAACK,QAAH,CAAY4B,SAAZ,CAAsB,WAAtB;AACH,GArDI;AAuDLzB,EAAAA,gBAvDK,8BAuDc;AACf,QAAI0B,QAAQ,GAAG,KAAKC,IAAL,CAAUD,QAAzB;;AACA,yDAAkBA,QAAlB,wCAA4B;AAAA,UAAnBE,KAAmB;AACxB,UAAIC,KAAK,GAAGD,KAAK,CAACT,YAAN,CAAmB9B,UAAnB,CAAZ;;AACA,UAAI,CAACwC,KAAL,EAAY;AACR;AACH;;AACDtC,MAAAA,OAAO,CAACU,WAAR,GAAsB6B,MAAtB,CAA6BF,KAAK,CAACG,IAAnC,EAAyCF,KAAzC;AACH;AACJ;AAhEI,CAAT","sourceRoot":"/","sourcesContent":["let ScriptBase = require('ScriptBase')\r\nlet Manager = require('Manager')\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad() {\r\n        // this.bgScrollJs = this.node.getChildByName('FloorNode').getComponent('Scroll')\r\n        // if (this.bgScrollJs.onInit) {\r\n        //     this.bgScrollJs.onInit();\r\n        // }\r\n        cc.director.getCollisionManager().enabled = true;\r\n        this._registerManager()\r\n        Manager.getInstance().onInitManager()\r\n    },\r\n\r\n    start() {\r\n        Manager.getInstance().onLateInitManager()\r\n    },\r\n\r\n    update(dt) {\r\n        Manager.getInstance().onUpdateManager(dt)\r\n    },\r\n\r\n    lateUpdate(dt) {\r\n        Manager.getInstance().onLateUpdateManager(dt)\r\n    },\r\n\r\n    gameOver() {\r\n        let GameOverUI = cc.find('Canvas/UIRoot/GameOver')\r\n        console.log(GameOverUI);\r\n        GameOverUI.active = true;\r\n\r\n        let score = Manager.getInstance().getMgr('Player').score;\r\n        GameOverUI.getChildByName('score2').getComponent(cc.Label).string = score.toFixed(2);\r\n        GameOverUI.getChildByName('BestScore').getComponent(cc.Label).string = score.toFixed(2);\r\n        GameOverUI.getChildByName('score2').active = true;\r\n        GameOverUI.getChildByName('BestScore').active = true;\r\n        if (score > 100) {\r\n            GameOverUI.getChildByName('yellow').active = true;\r\n        } else {\r\n            GameOverUI.getChildByName('gray').active = true;\r\n        }\r\n\r\n        Manager.getInstance().gameOver()\r\n        Manager.getInstance().clear()\r\n    },\r\n\r\n    reStart() {\r\n        cc.director.loadScene(\"GameScene\");\r\n    },\r\n\r\n    _registerManager() {\r\n        let children = this.node.children;\r\n        for (let value of children) {\r\n            let comJs = value.getComponent(ScriptBase);\r\n            if (!comJs) {\r\n                continue;\r\n            }\r\n            Manager.getInstance().addMgr(value.name, comJs);\r\n        }\r\n    }\r\n});\r\n"]}
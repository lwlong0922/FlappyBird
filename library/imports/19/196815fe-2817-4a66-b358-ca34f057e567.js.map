{"version":3,"sources":["assets\\Script\\Game\\Player.js"],"names":["ScripeBase","require","cc","Class","properties","accel","jumpSpeed","onInit","score","speed","onUpdate","dt","node","y","angle","onLateUpdate","parent","getComponent","gameOver","find","Label","string","toFixed","jump","onCollisionEnter","other","self"],"mappings":";;;;;;AAAA,IAAIA,UAAU,GAAGC,OAAO,CAAC,YAAD,CAAxB;;AACAC,EAAE,CAACC,KAAH,CAAS;AACL,aAASH,UADJ;AAGLI,EAAAA,UAAU,EAAE;AACRC,IAAAA,KAAK,EAAE,CADC;AAERC,IAAAA,SAAS,EAAE;AAFH,GAHP;AAQLC,EAAAA,MARK,oBAQI;AACL,SAAKC,KAAL,GAAa,CAAb;AACA,SAAKC,KAAL,GAAa,CAAb;AACH,GAXI;AAaLC,EAAAA,QAbK,oBAaIC,EAbJ,EAaQ;AACT,SAAKF,KAAL,IAAc,KAAKJ,KAAL,GAAaM,EAA3B;AACA,SAAKC,IAAL,CAAUC,CAAV,IAAe,KAAKJ,KAAL,GAAaE,EAA5B;AACA,SAAKC,IAAL,CAAUE,KAAV,IAAmB,KAAKH,EAAxB;;AACA,QAAI,KAAKC,IAAL,CAAUE,KAAV,IAAmB,CAAC,EAAxB,EAA4B;AACxB,WAAKF,IAAL,CAAUE,KAAV,GAAkB,CAAC,EAAnB;AACH;AACJ,GApBI;AAsBLC,EAAAA,YAtBK,wBAsBQJ,EAtBR,EAsBY;AACb;AACA,QAAI,KAAKC,IAAL,CAAUC,CAAV,IAAe,IAAnB,EAAyB;AACrB,WAAKD,IAAL,CAAUC,CAAV,GAAc,IAAd;AACA,WAAKJ,KAAL,GAAa,CAAb;AACH;;AACD,QAAI,KAAKG,IAAL,CAAUC,CAAV,GAAc,EAAlB,EAAsB;AAClB,WAAKD,IAAL,CAAUI,MAAV,CAAiBC,YAAjB,CAA8B,MAA9B,EAAsCC,QAAtC;AAEH;;AAED,SAAKV,KAAL,IAAcG,EAAd;AACAT,IAAAA,EAAE,CAACiB,IAAH,CAAQ,qBAAR,EAA+BF,YAA/B,CAA4Cf,EAAE,CAACkB,KAA/C,EAAsDC,MAAtD,GAA+D,SAAS,KAAKb,KAAL,CAAWc,OAAX,CAAmB,CAAnB,CAAxE;AACH,GAnCI;AAqCLC,EAAAA,IArCK,kBAqCE;AACH,SAAKd,KAAL,GAAa,KAAKH,SAAlB;AACA,SAAKM,IAAL,CAAUE,KAAV,GAAkB,EAAlB;AACH,GAxCI;AA0CLU,EAAAA,gBAAgB,EAAE,0BAAUC,KAAV,EAAiBC,IAAjB,EAAuB;AACrC;AACA,SAAKd,IAAL,CAAUI,MAAV,CAAiBC,YAAjB,CAA8B,MAA9B,EAAsCC,QAAtC;AACH,GA7CI,CA+CL;AAEA;AAEA;AAEA;;AArDK,CAAT","sourceRoot":"/","sourcesContent":["let ScripeBase = require('ScriptBase')\r\ncc.Class({\r\n    extends: ScripeBase,\r\n\r\n    properties: {\r\n        accel: 0,\r\n        jumpSpeed: 0\r\n    },\r\n\r\n    onInit() {\r\n        this.score = 0;\r\n        this.speed = 0;\r\n    },\r\n\r\n    onUpdate(dt) {\r\n        this.speed += this.accel * dt;\r\n        this.node.y += this.speed * dt;\r\n        this.node.angle -= 80 * dt\r\n        if (this.node.angle <= -90) {\r\n            this.node.angle = -90;\r\n        }\r\n    },\r\n\r\n    onLateUpdate(dt) {\r\n        // console.log(this.node.y);\r\n        if (this.node.y >= 1250) {\r\n            this.node.y = 1250\r\n            this.speed = 0\r\n        }\r\n        if (this.node.y < 30) {\r\n            this.node.parent.getComponent('Game').gameOver();\r\n\r\n        }\r\n\r\n        this.score += dt;\r\n        cc.find('Canvas/UIRoot/Score').getComponent(cc.Label).string = '得分: ' + this.score.toFixed(2);\r\n    },\r\n\r\n    jump() {\r\n        this.speed = this.jumpSpeed\r\n        this.node.angle = 60\r\n    },\r\n\r\n    onCollisionEnter: function (other, self) {\r\n        // console.log('ddd');\r\n        this.node.parent.getComponent('Game').gameOver();\r\n    }\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    // onLoad () {},\r\n\r\n    // start () {},\r\n\r\n    // update (dt) {},\r\n});\r\n"]}